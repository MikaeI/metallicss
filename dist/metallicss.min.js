const base=tag("rect",{props:{fill:"url(#gradient)",height:2048,width:2048,x:-512,y:-512}}),defs=tag("defs",{inner:[tag("linearGradient",{inner:[tag("stop",{props:{offset:"35%","stop-color":"#b0b0b0"}}),tag("stop",{props:{offset:"40%","stop-color":"#efefef"}}),tag("stop",{props:{offset:"45%","stop-color":"#909090"}}),tag("stop",{props:{offset:"50%","stop-color":"#707070"}}),tag("stop",{props:{offset:"50%","stop-color":"#505050"}}),tag("stop",{props:{offset:"60%","stop-color":"#909090"}}),tag("stop",{props:{offset:"70%","stop-color":"#505050"}}),tag("stop",{props:{offset:"100%","stop-color":"#505050"}})],props:{id:"gradient",x1:0,x2:0,y1:0,y2:1}})]}),radial=tag("radialGradient",{inner:[tag("stop",{props:{offset:"75%","stop-color":"#000000","stop-opacity":0}}),tag("stop",{props:{offset:"150%","stop-color":"#000000","stop-opacity":1}})],props:{id:"radial"}}),serializer=new XMLSerializer,xmlns="http://www.w3.org/2000/svg";function tag(e,{inner:t,props:r}){const o=document.createElementNS("http://www.w3.org/2000/svg",e);return r&&Object.entries(r).forEach((e=>o.setAttribute(...e))),t?.forEach((e=>o.append(e))),o}function sheen({offset:e,radii:{x:t,y:r},stroke:o,vertical:s,x:i,y:a}){const p=e/(s?i:a)/2,n=e/3/(s?i:a),l=1024-2*p+2*n;return tag("rect",{props:{"stroke-width":n,fill:"none",height:s?1024+n:l,rx:t,ry:r,stroke:o,width:s?l:1024+n,x:s?p-n:-n/2,y:s?-n/2:p-n}})}export const metallicss=(e,t,r)=>{t&&r&&e.style.setProperty(t,r);const{offsetWidth:o,offsetHeight:s}=e,{backgroundColor:i,borderRadius:a}=getComputedStyle(e),p=getComputedStyle(e).getPropertyValue("--convexity"),n="0%"===p||" 0%"===p?0:p&&parseInt(p)||20,l=n*((s>o?o:s)/320),g=Math.abs(l),d=o/(64*(g/10+1)),c=s/(64*(g/10+1)),f=parseInt(a),h={x:s/2<f?c/d*512:f*(1024/o),y:o/2<f?d/c*512:f*(1024/s)},m=l<0,y=e.parentElement,u="rgba(0, 0, 0, 0)"===i?"gray":i;let x;(-1===y.className.indexOf("metallicss")||-1!==getComputedStyle(y).getPropertyValue("--convexity").indexOf("-"))&&(e.style.boxShadow=m?"none":"#00000030 1px 2px 2px, #00000020 2px 4px 4px"),null!==e.firstChild&&e.firstChild.style&&(e.firstChild.style.display="inline-block",e.firstChild.style.transform=`scale(${1+(l||0)/5e3})`),x=[tag("filter",{props:{filterUnits:"userSpaceOnUse",height:"1024",id:"noise",width:"1024",x:"0",y:"0"},inner:[tag("feImage",{props:{href:`data:image/svg+xml;utf8,${encodeURIComponent(serializer.serializeToString(tag("svg",{props:{height:"1024",width:"1024",xmlns:xmlns,"text-rendering":"optimizeSpeed","shape-rendering":"optimizeSpeed"},inner:[tag("defs",{inner:[radial,tag("filter",{inner:[tag("feImage",{props:{href:`data:image/svg+xml;utf8,${encodeURIComponent(serializer.serializeToString(tag("svg",{props:{height:"1024",width:"1024",xmlns:xmlns,"text-rendering":"optimizeSpeed","shape-rendering":"optimizeSpeed"},inner:[tag("rect",{props:{fill:"white",height:"1024",width:"1024"}}),...Array.from({length:24}).map(((e,t)=>sheen({offset:Math.pow(3,t%2==0?t/4:(t-1)/4),radii:h,stroke:Math.ceil(t/2)%2==0?"red":"white",vertical:t%2==0,x:d,y:c}))).reverse()]})))}`,result:"image"}}),tag("feGaussianBlur",{props:{"color-interpolation-filters":"sRGB",in:"image",result:"blur1",stdDeviation:`${c/d*8},${d/c*8}`}}),tag("feComposite",{props:{in:"blur1",in2:"SourceGraphic",operator:"in",result:"edges"}}),tag("feGaussianBlur",{props:{"color-interpolation-filters":"sRGB",in:"image",stdDeviation:`${c/d*128},${d/c*128}`,result:"blur2"}}),tag("feComposite",{props:{in:"blur2",operator:"in"}}),tag("feComposite",{props:{in:"edges",operator:"over"}})],props:{id:"blur",filterUnits:"userSpaceOnUse",height:"1024",width:"1024",x:"0",y:"0"}})]}),tag("g",{inner:[tag("rect",{props:{fill:"url(#radial)",height:"1024",width:"1024"}})],props:{filter:"url(#blur)"}})]})))}`,result:"image"}}),tag("feDisplacementMap",{props:{"color-interpolation-filters":"sRGB",in:"SourceGraphic",in2:"image",result:"displacement",scale:100,xChannelSelector:"R",yChannelSelector:"G"}})]}),defs,tag("g",{inner:[base],props:{filter:"url(#noise)"}}),m&&tag("rect",{props:{fill:"#20222480",height:1024,opacity:`${Math.abs(n)<25?25:Math.abs(n)}%`,width:1024,x:0,y:0}}),tag("rect",{props:{fill:u,height:1024,opacity:.75,style:"mix-blend-mode: overlay",width:1024,x:0,y:0}})],e.style.backgroundImage=`url('data:image/svg+xml;utf8,${encodeURIComponent(serializer.serializeToString(tag("svg",{inner:x,props:{preserveAspectRatio:"none",style:`transform: scale(1, ${m?"-":""}1)`,viewBox:"0 0 1024 1024",xmlns:xmlns,"text-rendering":"optimizeSpeed","shape-rendering":"optimizeSpeed"}})))}')`,e.style.backgroundSize="100% 100%",e.style.border="none",e.style.textRendering="optimizeSpeed",e.style.transform="translateZ(0)",e.style.transition="none",e.querySelector("span")&&(e.querySelector("span").style.color=m?"#404040":"#c0c0c0",e.querySelector("span").style.display="inline-block",e.querySelector("span").style.mixBlendMode="hard-light",e.querySelector("span").style.textShadow=m?"white .5px .5px 1px":"black -.5px -.5px 1px")},traverse=()=>document.querySelectorAll(".metallicss").forEach(metallicss);"loading"!==document.readyState?traverse():document.addEventListener("DOMContentLoaded",traverse);export default metallicss;