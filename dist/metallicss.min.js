const serializer=new XMLSerializer,xmlns="http://www.w3.org/2000/svg",domUrl=window.URL||window.webkitURL||window,isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,dims={height:2048,width:2048},sRGB={"color-interpolation-filters":"sRGB"},inner=[tag("rect",{props:{fill:"url(#n)",height:1200,width:2048}}),tag("rect",{props:{fill:"url(#s)",height:848,width:2048,y:1200}}),tag("rect",{props:{...dims,filter:"url(#perlin)"}})],perlin=tag("filter",{inner:[tag("feTurbulence",{props:{...sRGB,baseFrequency:"0.01 0.01",type:"fractalNoise"}}),tag("feColorMatrix",{props:{...sRGB,result:"desaturated",type:"matrix",values:".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"}})],props:{id:"perlin"}}),gradients=[tag("radialGradient",{inner:[tag("stop",{props:{"stop-color":"#d8dfef",offset:0}}),tag("stop",{props:{"stop-color":"#808080",offset:1}})],props:{"color-interpolation":"sRGB",cx:.6,cy:1,id:"n"}}),tag("radialGradient",{inner:[tag("stop",{props:{"stop-color":"#585048",offset:0}}),tag("stop",{props:{"stop-color":"white",offset:1}})],props:{"color-interpolation":"sRGB",cx:.6,cy:0,id:"s"}})],map=tag("feImage",{props:{...dims,...sRGB,href:`data:image/svg+xml;charset=utf-8,${encodeURIComponent(serializer.serializeToString(tag("svg",{inner:[tag("linearGradient",{inner:[tag("stop",{props:{"stop-color":"#ff0000","stop-opacity":1,offset:0}}),tag("stop",{props:{"stop-color":"#ff0000","stop-opacity":0,offset:1}})],props:{"color-interpolation":"sRGB",id:"red",x1:0,x2:1,y1:0,y2:0}}),tag("linearGradient",{inner:[tag("stop",{props:{"stop-color":"#0000ff","stop-opacity":1,offset:0}}),tag("stop",{props:{"stop-color":"#0000ff","stop-opacity":0,offset:1}})],props:{"color-interpolation":"sRGB",id:"blue",x1:0,x2:0,y1:0,y2:1}}),tag("rect",{props:{fill:"black",height:"100%",width:"100%"}}),tag("rect",{props:{fill:"url(#red)",height:"100%",width:"100%"}}),tag("rect",{props:{fill:"url(#blue)",height:"100%",width:"100%",style:"mix-blend-mode: screen"}})],props:{...dims,xmlns:xmlns}})))}`,preserveAspectRatio:"none",result:"map"}});function tag(e,{inner:t,props:r}){const o=document.createElementNS("http://www.w3.org/2000/svg",e);return r&&Object.entries(r).forEach((e=>o.setAttribute(...e))),t?.forEach((e=>o.append(e))),o}export const metallicss=e=>{const{offsetHeight:t,offsetWidth:r}=e,{backgroundColor:o,borderRadius:s}=getComputedStyle(e),a=getComputedStyle(e).getPropertyValue("--convexity"),i=getComputedStyle(e).getPropertyValue("--metal").replace(/ /g,""),l="0"===a||" 0"===a?0:a&&parseInt(a)||4,p=Math.abs(l),n=parseInt(s),c=l<0,g="gold"===i?"rgb(255, 248, 0)":"copper"===i?"rgb(255, 128, 0)":"silver"===i?"rgb(221, 231, 247)":"lead"===i?"rgb(55, 55, 64)":"rgba(0, 0, 0, 0)"===o?"rgb(128, 128, 128)":o,d=g.replace("rgb(","").replace(")","").replace(/ /g,"").split(",").map((e=>(parseInt(e)/256).toFixed(3))),f=e.querySelector(":scope > .metal")||new Image;let m,u;isFirefox&&(m=new Image,m.onload=function(){const e=document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});e.width=512,e.height=512,t.drawImage(this,0,0),domUrl.revokeObjectURL(u),m.remove(),f.src=e.toDataURL(),e.remove()}),0!==r&&0!==t&&(null===e.querySelector(":scope > .metal")&&(f.className="metal",e.append(f)),null===document.getElementById(`for_lustre_${g.replace(/ /g,"")}`)&&document.body.append(tag("svg",{inner:[tag("filter",{inner:[tag("feColorMatrix",{props:{...sRGB,result:"color",type:"matrix",values:`${d[0]} 0 0 0 0 0 ${d[1]} 0 0 0 0 0 ${d[2]} 0 0 0 0 0 1 0`}}),tag("feBlend",{props:{...sRGB,in:"color",in2:"SourceGraphic",mode:"screen",result:"first"}}),tag("feBlend",{props:{...sRGB,in:"SourceGraphic",in2:"first",mode:"overlay",result:"second"}}),tag("feBlend",{props:{...sRGB,in:"SourceGraphic",in2:"second",mode:"color-burn",result:"third"}}),tag("feColorMatrix",{props:{...sRGB,result:"fourth",type:"saturate",values:"1.5"}})],props:{id:`lustre_${g.replace(/ /g,"")}`}})],props:{height:0,width:0,id:`for_lustre_${g.replace(/ /g,"")}`}})),u=domUrl.createObjectURL(new Blob([serializer.serializeToString(tag("svg",{inner:[...gradients,tag("filter",{inner:[map,tag("feImage",{props:{...dims,...sRGB,href:`data:image/svg+xml;charset=utf-8,${encodeURIComponent(serializer.serializeToString(tag("svg",{inner:[tag("filter",{inner:[tag("feGaussianBlur",{props:{...sRGB,stdDeviation:3*p}})],props:{id:"blur"}}),tag("rect",{props:{fill:"rgb(1, 0, 1)",filter:"url(#blur)",height:25-p/2+"%",width:25-p/2+"%",rx:parseInt((t/2<n?t/r*1024:n*(2048/r))/4)-4*p,ry:parseInt((r/2<n?r/t*1024:n*(2048/t))/4)-4*p,x:37.5+p/4+"%",y:37.5+p/4+"%"}})],props:{...dims,xmlns:xmlns}})))}`,preserveAspectRatio:"none",result:"lens"}}),tag("feBlend",{props:{...sRGB,in:"lens",in2:"map"}}),tag("feDisplacementMap",{props:{...sRGB,in:"SourceGraphic",scale:-500,xChannelSelector:"R",yChannelSelector:"B"}})],props:{id:"warp",x:0,y:0}}),perlin,tag("g",{inner:inner,props:{filter:"url(#warp)"}})],props:{height:512,width:512,preserveAspectRatio:"none",style:`transform: scale(1, ${c?"-":""}1)`,viewBox:"768 768 512 512",xmlns:xmlns}}))],{type:"image/svg+xml;charset=utf-8"})),isFirefox?m.src=u:f.src=u,e.style.boxShadow=c?"":"#00000030 1px 2px 2px, #00000020 2px 4px 4px",e.style.color="white",e.style.overflow="hidden",e.style.textRendering="geometricPrecision",e.style.transform="translateZ(0)",e.querySelector(":scope > .metal").style.filter="",setTimeout((()=>Object.assign(e.querySelector(":scope > .metal").style,{filter:`url("#lustre_${g.replace(/ /g,"")}")`,height:"102%",left:"-1%",maxWidth:"102%",position:"absolute",top:"-1%",width:"102%",zIndex:-1})),0))},traverse=()=>Array.from(document.querySelectorAll(".metallicss")).forEach(metallicss);"loading"!==document.readyState?traverse():document.addEventListener("DOMContentLoaded",traverse);export default metallicss;
