const base=[tag("rect",{props:{fill:"url(#gradient)",height:1024,width:1024,x:0,y:0}}),tag("rect",{props:{filter:"url(#texture)",height:1024,style:"mix-blend-mode: luminosity; opacity: 0.5",width:1024,x:0,y:0}}),tag("rect",{props:{filter:"url(#texture)",height:1024,style:"mix-blend-mode: screen; opacity: 0.25",width:1024,x:0,y:0}})],defs=tag("defs",{inner:[tag("linearGradient",{inner:[tag("stop",{props:{offset:"35%","stop-color":"#b0b0b0"}}),tag("stop",{props:{offset:"40%","stop-color":"#efefef"}}),tag("stop",{props:{offset:"45%","stop-color":"#909090"}}),tag("stop",{props:{offset:"50%","stop-color":"#707070"}}),tag("stop",{props:{offset:"50%","stop-color":"#505050"}}),tag("stop",{props:{offset:"60%","stop-color":"#909090"}}),tag("stop",{props:{offset:"70%","stop-color":"#505050"}}),tag("stop",{props:{offset:"100%","stop-color":"#505050"}})],props:{id:"gradient",x1:0,x2:0,y1:0,y2:1}})]}),serializer=new XMLSerializer,xmlns="http://www.w3.org/2000/svg";function tag(e,{inner:t,props:r}){const o=document.createElementNS("http://www.w3.org/2000/svg",e);return r&&Object.entries(r).forEach((e=>o.setAttribute(...e))),t?.forEach((e=>o.append(e))),o}function sheen({offset:e,radii:{x:t,y:r},stroke:o,vertical:s,x:i,y:a}){const n=e/(s?i:a)/2,l=e/3/(s?i:a),p=1024-2*n+2*l;return tag("rect",{props:{"stroke-width":l,fill:"none",height:s?1024+l:p,rx:t,ry:r,stroke:o,width:s?p:1024+l,x:s?n-l:-l/2,y:s?-l/2:n-l}})}export const metallicss=(e,t,r)=>{t&&r&&e.style.setProperty(t,r);const{offsetWidth:o,offsetHeight:s}=e,{backgroundColor:i,borderRadius:a}=getComputedStyle(e),n=getComputedStyle(e).getPropertyValue("--convexity"),l=getComputedStyle(e).getPropertyValue("--seed")||23,p=`filter: ${{copper:"brightness(0.85) sepia(0.5) saturate(2) hue-rotate(-33.75deg)",gold:"brightness(0.95) sepia(1) saturate(1.5)",iron:"",silver:"brightness(1.125)"}[getComputedStyle(e).getPropertyValue("--metal")||"iron"]}`,g="0%"===n||" 0%"===n?0:n&&parseInt(n)||20,c=g*((s>o?o:s)/640),f=Math.abs(c),d=o/(64*(f/10+1)),h=s/(64*(f/10+1)),u=parseInt(a),y={x:s/2<u?h/d*512:u*(1024/o),y:o/2<u?d/h*512:u*(1024/s)},x=c<0,m="rgba(0, 0, 0, 0)"===i?"gray":i;e.style.backgroundImage=`url('data:image/svg+xml;utf8,${encodeURIComponent(serializer.serializeToString(tag("svg",{inner:[tag("filter",{inner:[tag("feImage",{props:{preserveAspectRatio:"none",height:1024,width:1024,href:`data:image/svg+xml;utf8,${encodeURIComponent(serializer.serializeToString(tag("svg",{props:{height:2048,width:2048,xmlns:xmlns},inner:[tag("rect",{props:{fill:"white",height:2048,width:2048}}),tag("g",{inner:Array.from({length:24}).map(((e,t)=>sheen({offset:Math.pow(3,t%2==0?t/4:(t-1)/4),radii:y,stroke:Math.ceil(t/2)%2==0?"red":"white",vertical:t%2==0,x:d,y:h}))).reverse(),props:{transform:"translate(512,512)"}})]})))}`,result:"image"}}),tag("feGaussianBlur",{props:{"color-interpolation-filters":"sRGB",in:"image",result:"blur",stdDeviation:`${h/d*4},${d/h*6}`}}),tag("feDisplacementMap",{props:{"color-interpolation-filters":"sRGB",in:"SourceGraphic",in2:"blur",result:"displacement",scale:100,xChannelSelector:"R",yChannelSelector:"G"}})],props:{filterUnits:"userSpaceOnUse",height:2048,id:"noise",width:2048,x:0,y:0}}),tag("filter",{inner:[tag("feTurbulence",{props:{"color-interpolation-filters":"sRGB",baseFrequency:.005,result:"turbulence",seed:l,type:"fractalNoise"}}),tag("feDisplacementMap",{props:{"color-interpolation-filters":"sRGB",in2:"turbulence"}})],props:{filterUnits:"userSpaceOnUse",height:1024,id:"texture",width:1024,x:0,y:0}}),defs,tag("g",{inner:base,props:{filter:"url(#noise)"}}),x&&tag("rect",{props:{fill:"#20222480",height:1024,opacity:(g>-25?25:-1*g)+"%",width:1024,x:0,y:0}}),tag("rect",{props:{fill:m,height:1024,opacity:.5,style:"mix-blend-mode: overlay",width:1024,x:0,y:0}})],props:{preserveAspectRatio:"none",style:`transform: scale(1, ${x?"-":""}1); ${p}`,viewBox:"256 256 512 512",xmlns:xmlns}})))}')`,e.style.backgroundSize="100% 100%",e.style.border="none",e.style.boxShadow=x?"none":"#00000030 1px 2px 2px, #00000020 2px 4px 4px",e.style.color=`#${x?"000000":"ffffff"}e0`,e.style.textRendering="geometricPrecision",e.style.textShadow=x?"white .5px .5px 1px":"black -.5px -.5px 1px",e.style.transform="translateZ(0)",e.style.transition="none"},traverse=()=>document.querySelectorAll(".metallicss").forEach(metallicss);"loading"!==document.readyState?traverse():document.addEventListener("DOMContentLoaded",traverse);export default metallicss;
